<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - Din's Library</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,sans-serif}

body{
min-height:100vh;
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
color:white;
}

nav{
width:100%;
background:#2c3e50;
padding:15px 30px;
display:flex;
justify-content:flex-end;
position:fixed;
top:0;
}

nav a{
color:white;
text-decoration:none;
margin-left:25px;
font-weight:bold;
}

nav a:hover{color:#ffdd57}

.container{
max-width:900px;
margin:100px auto 0;
padding:30px;
background:rgba(255,255,255,0.08);
border-radius:16px;
backdrop-filter:blur(10px);
}

.tabs{
display:flex;
gap:10px;
margin-bottom:20px;
}

.tabs button{
flex:1;
padding:12px;
background:transparent;
border:2px solid #ffdd57;
color:white;
cursor:pointer;
font-weight:bold;
border-radius:8px;
transition:0.3s;
}

.tabs button.active{
background:#ffdd57;
color:#203a43;
}

form{
display:none;
margin-top:10px;
}

form.active{
display:block;
}

label{
display:block;
margin-top:12px;
font-size:0.9rem;
}

input,select{
width:100%;
padding:8px;
margin-top:6px;
border-radius:6px;
border:none;
}

.submit-btn{
width:100%;
padding:10px;
background:#ffdd57;
color:#203a43;
font-weight:bold;
margin-top:18px;
border:none;
border-radius:6px;
cursor:pointer;
transition:0.3s;
}

.submit-btn:hover{
transform:translateY(-2px);
}

.message{
margin-top:10px;
font-size:0.9rem;
}
</style>
</head>

<body>

<nav>
<a href="index.html">Home</a>
<a href="login.html">Login</a>
</nav>

<div class="container">

<div class="tabs">
<button id="btnLogin" class="active">Login</button>
<button id="btnSignup">Sign Up</button>
</div>

<!-- LOGIN -->
<form id="formLogin" class="active">
<label>Email</label>
<input type="email" id="loginEmail" required>

<label>Password</label>
<input type="password" id="loginPassword" required>

<button type="submit" class="submit-btn">Login</button>
<p id="loginMessage" class="message"></p>
</form>

<!-- SIGN UP -->
<form id="formSignup">
<label>First Name</label>
<input type="text" id="firstName" required>

<label>Middle Name</label>
<input type="text" id="middleName">

<label>Last Name</label>
<input type="text" id="lastName" required>

<label>Email</label>
<input type="email" id="signupEmail" required>

<label>No. HP</label>
<input type="tel" id="phone" required>

<label>Gender</label>
<select id="gender" required>
<option value="">-- Pilih --</option>
<option value="male">Laki-laki</option>
<option value="female">Perempuan</option>
</select>

<label>Tanggal Lahir</label>
<input type="date" id="birthdate" required>

<label>Password</label>
<input type="password" id="signupPassword" required>

<label>Confirm Password</label>
<input type="password" id="confirmPassword" required>

<button type="submit" class="submit-btn">Sign Up</button>
<p id="signupMessage" class="message"></p>
</form>

</div>

<script>
const btnLogin = document.getElementById("btnLogin");
const btnSignup = document.getElementById("btnSignup");
const formLogin = document.getElementById("formLogin");
const formSignup = document.getElementById("formSignup");

btnLogin.onclick = function(){
btnLogin.classList.add("active");
btnSignup.classList.remove("active");
formLogin.classList.add("active");
formSignup.classList.remove("active");
}

btnSignup.onclick = function(){
btnSignup.classList.add("active");
btnLogin.classList.remove("active");
formSignup.classList.add("active");
formLogin.classList.remove("active");
}

/* SIGN UP */
formSignup.addEventListener("submit", function(e){
e.preventDefault();

const firstName = document.getElementById("firstName").value;
const lastName = document.getElementById("lastName").value;
const email = document.getElementById("signupEmail").value;
const phone = document.getElementById("phone").value;
const gender = document.getElementById("gender").value;
const birthdate = document.getElementById("birthdate").value;
const password = document.getElementById("signupPassword").value;
const confirmPassword = document.getElementById("confirmPassword").value;
const message = document.getElementById("signupMessage");

if(password !== confirmPassword){
message.style.color="red";
message.textContent="Password tidak sama!";
return;
}

const today = new Date();
const birth = new Date(birthdate);
let age = today.getFullYear() - birth.getFullYear();
const m = today.getMonth() - birth.getMonth();

if(m < 0 || (m === 0 && today.getDate() < birth.getDate())){
age--;
}

if(age < 18){
message.style.color="red";
message.textContent="Umur minimal 18 tahun!";
return;
}

const userData = {
firstName,
lastName,
email,
phone,
gender,
birthdate,
password
};

localStorage.setItem("user", JSON.stringify(userData));

message.style.color="lightgreen";
message.textContent="Pendaftaran berhasil! Silakan login.";
});

/* LOGIN */
formLogin.addEventListener("submit", function(e){
e.preventDefault();

const email = document.getElementById("loginEmail").value;
const password = document.getElementById("loginPassword").value;
const savedUser = JSON.parse(localStorage.getItem("user"));
const message = document.getElementById("loginMessage");

if(savedUser && email === savedUser.email && password === savedUser.password){
message.style.color="lightgreen";
message.textContent="Login berhasil!";
} else {
message.style.color="red";
message.textContent="Email atau password salah!";
}
});
</script>

</body>
</html>
